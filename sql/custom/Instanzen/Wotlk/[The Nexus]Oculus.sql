-- instance oculus
UPDATE creature_template SET unit_flags=0 WHERE entry=30879;
UPDATE gameobject_template SET AIName="SmartGameObjectAI" WHERE entry=188715;
UPDATE creature_template SET AIName="SmartAI" WHERE entry IN(27636, 27633, 27635, 27638, 28276, 27642, 27644, 27645, 27647, 27648, 27650, 27651, 27653, 28239);

UPDATE creature_template SET ScriptName="npc_oculus_drakes" WHERE entry IN(27692, 27755, 27756);
UPDATE creature_template SET ScriptName="npc_arcane_beam" WHERE entry=28239;
UPDATE creature_template SET AIName="", ScriptName ="npc_oculus_ringlord_sorceress" WHERE entry=27639;
UPDATE creature_template SET AIName="", ScriptName ="npc_oculus_ringlord_conjurer" WHERE entry=27640;
UPDATE creature_template SET AIName="", ScriptName ="npc_oculus_centrifuge_construct" WHERE entry=27641;

UPDATE creature_template SET speed_walk=2.8 WHERE entry IN(27755, 27756, 27692);

UPDATE creature_template SET mingold=7666, maxgold=12776 WHERE entry IN(27633, 27635, 27636, 27641, 30901, 30902, 30904, 30905, 30915, 30916);
UPDATE creature_template SET mingold=40000, maxgold=60000, mechanic_immune_mask=646676351 WHERE entry IN(27447, 27654, 27655, 27656);
UPDATE creature_template SET mingold=120000, maxgold=180000, mechanic_immune_mask=646676351 WHERE entry IN(31558, 31559, 31560, 31561);

DELETE FROM spell_script_names WHERE spell_id IN(50341, 49838, 49840, 50240, 49592);
INSERT INTO spell_script_names VALUES
(50341, "spell_emerald_drake_touch_the_nightmare"),
(49840, "spell_amber_drake_schock_lance"),
(49838, "spell_amber_drake_time_stop"),
(50240, "spell_ruby_drake_evasive_maneuvers"),
(49592, "spell_amber_drake_temporal_rift");

DELETE FROM spell_proc_event WHERE entry=50240;
INSERT INTO spell_proc_event VALUES
(50240, 0, 0, 0, 0, 0, 0, 0x0000004, 0, 100, 0);

DELETE FROM smart_scripts WHERE entryorguid IN (27636, 27633, 27635, 27638, 27639, 27640, 28276, 27642, 27644, 27645, 27647, 27648,27650, 27651, 27653, 188715);
INSERT INTO smart_scripts VALUES
-- trash
(27636, 0, 0, 0, 0, 0, 100, 0x02, 2000, 4000, 2000, 4000, 11, 50705, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Ley-Whelp - Arcane Bolt normal"),
(27636, 0, 1, 0, 0, 0, 100, 0x04, 2000, 4000, 2000, 4000, 11, 59210, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Ley-Whelp - Arcane Bolt heroic"),
(27633, 0, 0, 0, 0, 0, 100, 0, 3000, 5000, 6000, 8000, 11, 50573, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Azure Inquisitor - Arcane Cleave"),
(27633, 0, 1, 0, 0, 0, 100, 0, 9000, 10000, 15000, 20000, 11, 50690, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Azure Inquisitor - immobilizing field"),
(27633, 0, 2, 0, 9, 0, 100, 0x02, 5, 30, 3000, 5000, 11, 51454, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Azure Inquisitor - Throw normal"),
(27633, 0, 3, 0, 9, 0, 100, 0x04, 5, 30, 3000, 5000, 11, 59209, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Azure Inquisitor - Throw heroic"),
(27635, 0, 0, 0, 0, 0, 100, 0x02, 3000, 5000, 7000, 10000, 11, 50702, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Azure Spellbinder - Arcane Volley normal"),
(27635, 0, 1, 0, 0, 0, 100, 0x04, 3000, 5000, 7000, 10000, 11, 59212, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Azure Spellbinder - Arcane Volley heroic"),
(27635, 0, 2, 0, 0, 0, 100, 0x02, 7000, 9000, 15000, 20000, 11, 50566, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, "Azure Spellbinder - Mind Warp normal"),
(27635, 0, 3, 0, 0, 0, 100, 0x04, 7000, 9000, 15000, 20000, 11, 38047, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, "Azure Spellbinder - Mind Warp heroic"),
(27635, 0, 4, 0, 0, 0, 100, 0, 10000, 13000, 20000, 25000, 11, 50572, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, "Azure Spellbinder - Power Sap"),
(27638, 0, 0, 0, 0, 0, 100, 0x02, 3000, 6000, 14000, 18000, 11, 49549, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Azure Ring Guardian - Ice Beam normal"),
(27638, 0, 1, 0, 0, 0, 100, 0x04, 3000, 6000, 14000, 18000, 11, 59211, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Azure Ring Guardian - Ice Beam heroic"),
(28276, 0, 0, 0, 0, 0, 100, 0x02, 2000, 4000, 4000, 7000, 11, 62249, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Ley-Whelp - Arcane Bolt normal"),
(28276, 0, 1, 0, 0, 0, 100, 0x04, 2000, 4000, 4000, 7000, 11, 62250, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Ley-Whelp - Arcane Bolt heroic"),

-- Mage-Lord adds
(27642, 0, 0, 0, 9, 0, 100, 0, 8, 25, 6000, 8000, 11, 32323, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Phantasmal Mammoth - Charge"),
(27642, 0, 1, 0, 0, 0, 100, 0, 4000, 6000, 10000, 12000, 11, 51253, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Phantasmal Mammoth - Trample"),
(27644, 0, 0, 0, 0, 0, 100, 0x02, 3000, 6000, 12000, 14000, 11, 50728, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Phantasmal Wolf - Furious Howl normal"),
(27644, 0, 1, 0, 0, 0, 100, 0x04, 3000, 6000, 12000, 14000, 11, 59274, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Phantasmal Wolf - Furious Howl heroic"),
(27644, 0, 2, 0, 0, 0, 100, 0x02, 5000, 8000, 14000, 17000, 11, 50729, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Phantasmal Wolf - Carnivorous Bite normal"),
(27644, 0, 3, 0, 0, 0, 100, 0x04, 5000, 8000, 14000, 17000, 11, 59269, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Phantasmal Wolf - Carnivorous Bite normal"),
(27645, 0, 0, 0, 0, 0, 100, 0x02, 6000, 8000, 8000, 10000, 11, 59220, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Phantasmal Cloudscraper - Chain Lightning normal"),
(27645, 0, 1, 0, 0, 0, 100, 0x04, 6000, 8000, 8000, 10000, 11, 15588, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Phantasmal Cloudscraper - Chain Lightning heroic"),
(27645, 0, 2, 0, 0, 0, 100, 0x02, 2000, 4000, 10000, 12000, 11, 15588, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Phantasmal Cloudscraper - Thunderclap normal"),
(27645, 0, 3, 0, 0, 0, 100, 0x04, 2000, 4000, 10000, 12000, 11, 59217, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Phantasmal Cloudscraper - Thunderclap heroic"),
(27647, 0, 0, 0, 0, 0, 100, 0, 2000, 5000, 7000, 9000, 11, 50731, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Phantasmal Ogre - Mace Smash"),
(27647, 0, 1, 0, 0, 0, 100, 0, 8000, 12000, 25000, 35000, 11, 50730, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Phantasmal Ogre - Bloodlust"),
(27648, 0, 0, 0, 0, 0, 100, 0x02, 3000, 5000, 12000, 14000, 11, 50732, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Phantasmal Naga - Water Tomb normal"),
(27648, 0, 1, 0, 0, 0, 100, 0x04, 3000, 5000, 12000, 14000, 11, 59261, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Phantasmal Naga - Water Tomb heroic"),
(27650, 0, 0, 0, 0, 0, 100, 0x02, 1000, 3000, 15000, 2000, 75, 25020, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "Phantasmal Air - Lightning Shield normal"),
(27650, 0, 1, 0, 0, 0, 100, 0x04, 1000, 3000, 15000, 2000, 75, 20545, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "Phantasmal Air - Lightning Shield heroic"),
(27651, 0, 0, 0, 0, 0, 100, 0x02, 3000, 5000, 5000, 8000, 11, 50744, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Phantasmal Fire - Blaze normal"),
(27651, 0, 1, 0, 0, 0, 100, 0x04, 3000, 5000, 5000, 8000, 11, 59225, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Phantasmal Fire - Blaze heroic"),
(27653, 0, 0, 0, 0, 0, 100, 0x02, 5000, 8000, 7000, 9000, 11, 37924, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Phantasmal Water - Water Bolt Volley normal"),
(27653, 0, 1, 0, 0, 0, 100, 0x04, 5000, 8000, 7000, 9000, 11, 59266, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, "Phantasmal Water - Water Bolt Volley heroic"),

-- misc
(188715, 1, 0, 0, 64, 0, 100, 0, 0, 0, 0, 0, 62, 571, 0, 0, 0, 0, 0, 7, 0, 0, 0, 3872.2, 6984.4, 108.2, 0, "Teleport on Orb use");

DELETE FROM creature_loot_template WHERE entry IN(30901, 30902, 30904, 30905, 30906, 30907, 30908, 30909, 30910, 30911, 30912, 30913, 30914, 30915, 30916);
INSERT INTO creature_loot_template VALUES
(30902, 33631, 73, 1, 0, 1, 1),
(30902, 33632, 17, 1, 0, 1, 1),
(30902, 37366, 1, 1, 0, 1, 1),
(30902, 37365, 1, 1, 0, 1, 1),
(30902, 37364, 1, 1, 0, 1, 1),
(30902, 43297, 0.1, 1, 0, 1, 1),
(30902, 45912, 0.1, 1, 0, 1, 1),
(30901, 33470, 33, 1, 0, 1, 7),
(30901, 43852, 19, 1, 0, 1, 1),
(30901, 33454, 8, 1, 0, 1, 1),
(30901, 33445, 4, 1, 0, 1, 1),
(30901, 33447, 2, 1, 0, 1, 1),
(30901, 33448, 2, 1, 0, 1, 1),
(30901, 37364, 1.2, 1, 0, 1, 1),
(30901, 37366, 1, 1, 0, 1, 1),
(30901, 37365, 1, 1, 0, 1, 1),
(30901, 43297, 0.1, 1, 0, 1, 1),
(30901, 45912, 0.1, 1, 0, 1, 1),
(30904, 33470, 31, 1, 0, 1, 7),
(30904, 43852, 19, 1, 0, 1, 1),
(30904, 33454, 7, 1, 0, 1, 1),
(30904, 33445, 4, 1, 0, 1, 1),
(30904, 33447, 2, 1, 0, 1, 1),
(30904, 37366, 1, 1, 0, 1, 1),
(30904, 37365, 1, 1, 0, 1, 1),
(30904, 37364, 1, 1, 0, 1, 1),
(30904, 43297, 0.1, 1, 0, 1, 1),
(30904, 45912, 0.1, 1, 0, 1, 1),
(30916, 33470, 32, 1, 0, 1, 7),
(30916, 43852, 18, 1, 0, 1, 1),
(30916, 33454, 8, 1, 0, 1, 1),
(30916, 33445, 4, 1, 0, 1, 1),
(30916, 33447, 2, 1, 0, 1, 1),
(30916, 37366, 1, 1, 0, 1, 1),
(30916, 37365, 1, 1, 0, 1, 1),
(30916, 37364, 1, 1, 0, 1, 1),
(30916, 43297, 0.1, 1, 0, 1, 1),
(30916, 45912, 0.1, 1, 0, 1, 1),
(30915, 33470, 33, 1, 0, 1, 7),
(30915, 43852, 19, 1, 0, 1, 1),
(30915, 33454, 8, 1, 0, 1, 1),
(30915, 33445, 4, 1, 0, 1, 1),
(30915, 33447, 2, 1, 0, 1, 1),
(30915, 33478, 2, 1, 0, 1, 1),
(30915, 37366, 1, 1, 0, 1, 1),
(30915, 37365, 1, 1, 0, 1, 1),
(30915, 37364, 1, 1, 0, 1, 1),
(30915, 43297, 0.1, 1, 0, 1, 1),
(30915, 45912, 0.1, 1, 0, 1, 1),
(30905, 39209, 72, 1, 0, 1, 1),
(30905, 39210, 17, 1, 0, 1, 1),
(30905, 37366, 1, 1, 0, 1, 1),
(30905, 37365, 1, 1, 0, 1, 1),
(30905, 37364, 1, 1, 0, 1, 1),
(30905, 43297, 0.1, 1, 0, 1, 1),
(30905, 45912, 0.1, 1, 0, 1, 1),
(30906, 39512, 72, 1, 0, 1, 4),
(30906, 37700, 28, 1, 0, 1, 4),
(30906, 39513, 17, 1, 0, 1, 4),
(30906, 37366, 1, 1, 0, 1, 1),
(30906, 37365, 1, 1, 0, 1, 1),
(30906, 37364, 1, 1, 0, 1, 1),
(30908, 39512, 69, 1, 0, 1, 4),
(30908, 37702, 30, 1, 0, 1, 4),
(30908, 39513, 18, 1, 0, 1, 4),
(30908, 37366, 1.7, 1, 0, 1, 1),
(30908, 37365, 1, 1, 0, 1, 1),
(30908, 37364, 1, 1, 0, 1, 1),
(30913, 39512, 72, 1, 0, 1, 4),
(30913, 37705, 30, 1, 0, 1, 4),
(30913, 39513, 18, 1, 0, 1, 4),
(30913, 37366, 1, 1, 0, 1, 1),
(30913, 37365, 1, 1, 0, 1, 1),
(30913, 37364, 1, 1, 0, 1, 1),
(30912, 33470, 33, 1, 0, 1, 4),
(30912, 43852, 18, 1, 0, 1, 1),
(30912, 33454, 7, 1, 0, 1, 1),
(30912, 33445, 6, 1, 0, 1, 1),
(30912, 33447, 2, 1, 0, 1, 1),
(30912, 33764, 1.8, 1, 0, 1, 1),
(30912, 36047, 1.1, 1, 0, 1, 1),
(30912, 36148, 1.1, 1, 0, 1, 1),
(30912, 37097, 1, 1, 0, 1, 1),
(30912, 33448, 2, 1, 0, 1, 1),
(30912, 36371, 1.3, 1, 0, 1, 1),
(30912, 37366, 1, 1, 0, 1, 1),
(30912, 37365, 1, 1, 0, 1, 1),
(30912, 37364, 1, 1, 0, 1, 1),
(30910, 17057, 27, 1, 0, 1, 1),
(30910, 17058, 25, 1, 0, 1, 1),
(30910, 33470, 19, 1, 0, 1, 1),
(30910, 36781, 16, 1, 0, 1, 1),
(30910, 43852, 12, 1, 0, 1, 1),
(30910, 37365, 1.2, 1, 0, 1, 1),
(30910, 33447, 2, 1, 0, 1, 1),
(30910, 37366, 1, 1, 0, 1, 1),
(30910, 37364, 1, 1, 0, 1, 1),
(30911, 17057, 26, 1, 0, 1, 1),
(30911, 17058, 25, 1, 0, 1, 1),
(30911, 33470, 17, 1, 0, 1, 7),
(30911, 36781, 14, 1, 0, 1, 1),
(30911, 43853, 10, 1, 0, 1, 1),
(30911, 37366, 1, 1, 0, 1, 1),
(30911, 37365, 1, 1, 0, 1, 1),
(30911, 37364, 1, 1, 0, 1, 1),
(30914, 39211, 71, 1, 0, 1, 5),
(30914, 43011, 46, 1, 0, 1, 1),
(30914, 39212, 17, 1, 0, 1, 4),
(30914, 43013, 13, 1, 0, 1, 1),
(30914, 37366, 1, 1, 0, 1, 1),
(30914, 37365, 1, 1, 0, 1, 1),
(30914, 37364, 1, 1, 0, 1, 1),
(30907, 39567, 73, 1, 0, 1, 5),
(30907, 39568, 16, 1, 0, 1, 4),
(30907, 37366, 1, 1, 0, 1, 1),
(30907, 37365, 1, 1, 0, 1, 1),
(30907, 37364, 1, 1, 0, 1, 1),
(30909, 39562, 72, 1, 0, 1, 4),
(30909, 34736, 49, 1, 0, 1, 1),
(30909, 39563, 18, 1, 0, 1, 3),
(30909, 43013, 11, 1, 0, 1, 1),
(30909, 33422, 1, 1, 0, 1, 1),
(30909, 37366, 1, 1, 0, 1, 1),
(30909, 37365, 1, 1, 0, 1, 1),
(30909, 37364, 1, 1, 0, 1, 1);

DELETE FROM script_texts WHERE Entry IN(-1578005,-1578006, -1578007, -1578008, -1578009, -1578010, -1578011, -1578012, -1578013, -1578014, -1578015, -1578016, -1578017, -1578018, -1578019, -1578020, -1578021, -1578022, -1578023, -1578024);
INSERT INTO script_texts VALUES
(27654, -1578005, "The prisoners shall not go free. The word of Malygos is law!", "", "", "", "", "", "", "", "", 0, 1, 0, 0, ""),
(27654, -1578006, "A fitting punishment!", "", "", "", "", "", "", "", "", 0, 1, 0, 0, ""),
(27654, -1578007, "Sentence: executed!", "", "", "", "", "", "", "", "", 0, 1, 0, 0, ""),
(27654, -1578008, "Another casualty of war!", "", "", "", "", "", "", "", "", 0, 1, 0, 0, ""),
(27654, -1578009, "The war... goes on.", "", "", "", "", "", "", "", "", 0, 1, 0, 0, ""),
(27654, -1578010, "Intruders, your victory will be short-lived. I am Commander Varos Cloudstrider. My drakes control the skies and protect this conduit. I will see to it personally that the Oculus does not fall into your hands!", "", "", "", "", "", "", "", "", 0, 1, 0, 0, ""),
(27654, -1578011, "It is too late to run!", "", "", "", "", "", "", "", "", 0, 1, 0, 0, ""),
(27654, -1578012, "Gather 'round...", "", "", "", "", "", "", "", "", 0, 1, 0, 0, ""),
(27654, -1578013, "None shall escape!", "", "", "", "", "", "", "", "", 0, 1, 0, 0, ""),
(27654, -1578014, "I condemn you to death!", "", "", "", "", "", "", "", "", 0, 1, 0, 0, ""),
(27654, -1578015, "Tremble, worms!", "", "", "", "", "", "", "", "", 0, 1, 0, 0, ""),
(27654, -1578016, "I will crush you!", "", "", "", "", "", "", "", "", 0, 1, 0, 0, ""),
(27654, -1578017, "Can you fly?", "", "", "", "", "", "", "", "", 0, 1, 0, 0, ""),
(27655, -1578018, "Everything I've done... has been for Azeroth...", "", "", "", "", "", "", "", "", 0, 1, 0, 0, ""),
(27655, -1578019, "If only you understood!", "", "", "", "", "", "", "", "", 0, 1, 0, 0, ""),
(27655, -1578020, "Now do you see? Do you?!", "", "", "", "", "", "", "", "", 0, 1, 0, 0, ""),
(27655, -1578021, "Unfortunate, but necessary.", "", "", "", "", "", "", "", "", 0, 1, 0, 0, ""),
(27656, -1578022, "It's a long way down...", "", "", "", "", "", "", "", "", 0, 1, 0, 0, ""),
(27656, -1578023, "Back to the earth with you!", "", "", "", "", "", "", "", "", 0, 1, 0, 0, ""),
(27656, -1578024, "Enjoy the fall!", "", "", "", "", "", "", "", "", 0, 1, 0, 0, "");

DELETE FROM creature_onkill_reputation WHERE creature_id IN(30902, 30901, 30904, 30915, 30916, 30905, 30903, 31558, 31559, 31560, 31561);
INSERT INTO creature_onkill_reputation VALUES
(30902, 1037, 1052, 7, 0, 2, 7, 0, 2, 1),
(30901, 1037, 1052, 7, 0, 15, 7, 0, 15, 1),
(30904, 1037, 1052, 7, 0, 15, 7, 0, 15, 1),
(30915, 1037, 1052, 7, 0, 15, 7, 0, 15, 1),
(30916, 1037, 1052, 7, 0, 15, 7, 0, 15, 1),
(30905, 1037, 1052, 7, 0, 30, 7, 0, 30, 1),
(30903, 1037, 1052, 7, 0, 15, 7, 0, 15, 1),
(31558, 1037, 1052, 7, 0, 250, 7, 0, 250, 1),
(31559, 1037, 1052, 7, 0, 250, 7, 0, 250, 1),
(31560, 1037, 1052, 7, 0, 250, 7, 0, 250, 1),
(31561, 1037, 1052, 7, 0, 250, 7, 0, 250, 1);