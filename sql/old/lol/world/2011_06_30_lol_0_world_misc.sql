DELETE FROM `spell_script_names` WHERE `spell_id` IN (45907,45671);
INSERT INTO `spell_script_names` (`spell_id`,`ScriptName`) VALUES
(45907, 'spell_gen_torch_target_picker'),
(45671, 'spell_gen_juggle_torch_catch');

DELETE FROM `conditions` WHERE `SourceTypeOrReferenceId`=13 AND `SourceEntry` IN (45907,45671);
INSERT INTO `conditions` (`SourceTypeOrReferenceId`,`SourceEntry`,`ConditionTypeOrReference`,`ConditionValue1`,`ConditionValue2`) VALUES
(13,45907,18,1,25515),
(13,45671,18,1,0),
(13,45671,18,1,25515);

DELETE FROM `spell_linked_spell` WHERE `spell_trigger`=46747;
INSERT INTO `spell_linked_spell` (`spell_trigger`,`spell_effect`,`type`,`comment`) VALUES
(46747,45907,0, 'Fling Torch - Torch Target Picker');

UPDATE `creature_template` SET `flags_extra`=`flags_extra`|128 WHERE `entry`=25515;

UPDATE `quest_template` SET `RewOrReqMoney`=74000, `RewMoneyMaxLevel`=132300 WHERE `entry`=11923;
UPDATE `quest_template` SET `PrevQuestId`=11657 WHERE `entry`=11924;
UPDATE `quest_template` SET `PrevQuestId`=11923, `RewOrReqMoney`=74000, `RewMoneyMaxLevel`=132300 WHERE `entry`=11925;

SET @GUID := 303012;
SET @GO_GUID := 400028;

DELETE FROM `creature` WHERE `id`=25515;
INSERT INTO `creature` (`guid`, `id`, `map`, `spawnMask`, `phaseMask`, `modelid`, `equipment_id`, `position_x`, `position_y`, `position_z`, `orientation`, `spawntimesecs`, `spawndist`, `currentwaypoint`, `curhealth`, `curmana`, `MovementType`, `npcflag`, `unit_flags`, `dynamicflags`) VALUES
(@GUID,'25515','1','1','1','0','0','1921.68','-4326.24','21.7631','4.69113','30','0','0','42','0','0','0','0','0'),
(@GUID+1,'25515','0','1','1','0','0','-8820.57','863.37','98.9602','1.09525','30','0','0','42','0','0','0','0','0'),
(@GUID+2,'25515','0','1','1','0','0','-8819.07','881.422','98.6388','4.52744','30','0','0','42','0','0','0','0','0'),
(@GUID+3,'25515','0','1','1','0','0','-8812.03','885.719','98.5385','4.4489','30','0','0','42','0','0','0','0','0'),
(@GUID+4,'25515','0','1','1','0','0','-8814.08','873.969','98.8659','1.10232','30','0','0','42','0','0','0','0','0'),
(@GUID+5,'25515','0','1','1','0','0','-8814.7','864.967','99.0339','1.1141','30','0','0','42','0','0','0','0','0'),
(@GUID+6,'25515','0','1','1','0','0','-8821.88','870.852','98.7882','4.06092','30','0','0','42','0','0','0','0','0'),
(@GUID+7,'25515','0','1','1','0','0','-8807.15','878.687','98.8254','3.52921','30','0','0','42','0','0','0','0','0'),
(@GUID+8,'25515','0','1','1','0','0','-8823.06','855.943','99.045','1.4479','30','0','0','42','0','0','0','0','0'),
(@GUID+9,'25515','1','1','1','0','0','1932.16','-4325.71','20.1871','4.38482','30','0','0','42','0','0','0','0','0'),
(@GUID+10,'25515','1','1','1','0','0','1946.67','-4327.83','22.6344','3.60335','30','0','0','42','0','0','0','0','0'),
(@GUID+11,'25515','1','1','1','0','0','1943','-4339.9','21.5222','3.88609','30','0','0','42','0','0','0','0','0'),
(@GUID+12,'25515','1','1','1','0','0','1934.19','-4334.65','20.0495','3.48554','30','0','0','42','0','0','0','0','0'),
(@GUID+13,'25515','1','1','1','0','0','1930.03','-4346.83','19.7546','3.8429','30','0','0','42','0','0','0','0','0'),
(@GUID+14,'25515','1','1','1','0','0','1940.22','-4353.12','20.1355','4.05967','30','0','0','42','0','0','0','0','0'),
(@GUID+15,'25515','1','1','1','0','0','1932.25','-4361.06','20.9716','2.11973','30','0','0','42','0','0','0','0','0'),
(@GUID+16,'25515','0','1','1','0','0','1833.6','223.202','60.3987','2.25109','30','0','0','42','0','0','0','0','0'),
(@GUID+17,'25515','0','1','1','0','0','1831.21','233.347','60.134','1.62277','30','0','0','42','0','0','0','0','0'),
(@GUID+18,'25515','0','1','1','0','0','1832.31','244.952','59.9711','1.24735','30','0','0','42','0','0','0','0','0'),
(@GUID+19,'25515','0','1','1','0','0','1832.3','256.49','59.6549','2.65793','30','0','0','42','0','0','0','0','0'),
(@GUID+20,'25515','0','1','1','0','0','1822.36','261.071','59.9183','4.76437','30','0','0','42','0','0','0','0','0'),
(@GUID+21,'25515','0','1','1','0','0','1823.9','252.272','60.0337','4.96229','30','0','0','42','0','0','0','0','0'),
(@GUID+22,'25515','0','1','1','0','0','1814.4','247.51','60.5868','5.74847','30','0','0','42','0','0','0','0','0'),
(@GUID+23,'25515','0','1','1','0','0','1821.79','238.343','60.6741','4.77144','30','0','0','42','0','0','0','0','0'),
(@GUID+24,'25515','0','1','1','0','0','-4698.32','-1214.39','501.66','1.4847','30','0','0','42','0','0','0','0','0'),
(@GUID+25,'25515','0','1','1','0','0','-4701.21','-1204.98','501.66','2.14051','30','0','0','42','0','0','0','0','0'),
(@GUID+26,'25515','0','1','1','0','0','-4711.01','-1195.42','501.675','2.40362','30','0','0','42','0','0','0','0','0'),
(@GUID+27,'25515','0','1','1','0','0','-4724.79','-1194.03','501.696','5.31745','30','0','0','42','0','0','0','0','0'),
(@GUID+28,'25515','0','1','1','0','0','-4714.44','-1204.85','501.66','5.40384','30','0','0','42','0','0','0','0','0'),
(@GUID+29,'25515','0','1','1','0','0','-4727.47','-1205.35','501.696','4.54775','30','0','0','42','0','0','0','0','0'),
(@GUID+30,'25515','0','1','1','0','0','-4718.13','-1216.85','501.66','5.08575','30','0','0','42','0','0','0','0','0'),
(@GUID+31,'25515','0','1','1','0','0','-4692.04','-1200.08','501.66','3.52281','30','0','0','42','0','0','0','0','0');

DELETE FROM `game_event_creature` WHERE `guid` BETWEEN @GUID AND @GUID+31;
INSERT INTO `game_event_creature` (`eventEntry`, `guid`) VALUES
(1,@GUID),
(1,@GUID+1),
(1,@GUID+2),
(1,@GUID+3),
(1,@GUID+4),
(1,@GUID+5),
(1,@GUID+6),
(1,@GUID+7),
(1,@GUID+8),
(1,@GUID+9),
(1,@GUID+10),
(1,@GUID+11),
(1,@GUID+12),
(1,@GUID+13),
(1,@GUID+14),
(1,@GUID+15),
(1,@GUID+16),
(1,@GUID+17),
(1,@GUID+18),
(1,@GUID+19),
(1,@GUID+20),
(1,@GUID+21),
(1,@GUID+22),
(1,@GUID+23),
(1,@GUID+24),
(1,@GUID+25),
(1,@GUID+26),
(1,@GUID+27),
(1,@GUID+28),
(1,@GUID+29),
(1,@GUID+30),
(1,@GUID+31);

DELETE FROM `gameobject` WHERE `guid` BETWEEN @GO_GUID AND @GO_GUID+1;
INSERT INTO `gameobject` (`guid`, `id`, `map`, `spawnMask`, `phaseMask`, `position_x`, `position_y`, `position_z`, `orientation`, `rotation0`, `rotation1`, `rotation2`, `rotation3`, `spawntimesecs`, `animprogress`, `state`) VALUES
(@GO_GUID,'300068','0','1','1','1823.19','221.194','60.9658','4.08421','0','0','0.890974','-0.454055','300','0','1'),
(@GO_GUID+1,'300068','0','1','1','-4702.18','-1221.19','502.491','5.2232','0','0','0.505528','-0.86281','300','0','1');

DELETE FROM `game_event_gameobject` WHERE `guid` BETWEEN @GO_GUID AND @GO_GUID+1;
INSERT INTO `game_event_gameobject` (`eventEntry`, `guid`) VALUES
(1,@GO_GUID),
(1,@GO_GUID+1);
